<!DOCTYPE html>
<html>
<head>
<title> LDAP Server - Admin Info </title> <!-- change this to your title of choice-->
<!-- Best if you leave the style section alone. -->
<style> 
header {
    background-color: lightgray;
    text-align: center;
    font-size: 20px;
    color: black;
}
iframe {
    height:500px;
    float: left;
    width: 15%;
    padding-left:2.5%;
    padding-right:2.5%;
    overflow:hidden;
}
article{
    float: right;
    width: 70%;
    padding-right:5%;
}
</style>
</head>
<header>
<h1>This is a template page</h1>
</header>
<iframe src="D:git\oit-learning\TMPL\linklist.html" title="Nav Links"></iframe>
<article> 
    <h2>DOCUMENT INFORMATION:</h2>
    <p>This document is for the LDAP learning image. It will describe the basic features of the LDAP qcow as well as some of it's maintenance and use cases. </p>
    <h2>DESCRIPTION:</h2>
    <p>THIS IMAGE PROVIDES A TEST ENVIRONMENT FOR OPEN-LDAP. A LIST OF 25 DEFAULT USERS HAS BEEN POPULATED. THE LDAP STRUCTURE FOR THIS ENVIRONMENT IS BASED OFF OF A FICTICIOUS SCHOOL DISCTRICT STUDENTS ARE ADDED TO ONE OU, STAFF ARE ADDED TO ANOTHER OU. THERE IS A SECURITY GROUP FOR EACH SCHOOL IN THE DISTRICT - ONE ELEMENTARY SCHOOL, ONE MIDDLE SCHOOL, AND ONE HIGH SCHOOL. </p>
    <p>ADMINISTRATION IS SETUP THROUGH THE phpldapadmin UTILITY THIS PAGE CAN BE FOUND AT http://localhost/phpldapadmin OR BY OPENING THE FIREFOX BROWSER (IT SHOULD BE THE HOME PAGE). THE DEFAULT SCHEMA OF THIS LDAP SYSTEM CAN BE FOUND IN THE export.ldif FILE IN THE LDAP DIRECTORY OF THIS GIT (THE PARENT FOLDER TO THIS DOCUMENT)</p>
    <h2>STANDARDS:</h2>
    <p>ALL USERS ARE SET TO HAVE SIMILAR PASSWORD STRUCTURE. IF YOU WISH TO LOGIN AS ONE OF THESE USERS FOR ANY REASON, YOU CAN DO SO BY ENTERING THE FIRST INITIAL AND THE LAST NAME OF THE USER AS THE USERNAME, WITH THE SAME VALUE AS THE PASSWORD. </p>
    <h3>EX: Bob Johnson</h3>
    <p>USERNAME: bjohnson</p>
    <p>PASSWORD: bjohnson</p>
    <h3>LDAP ADMIN</h3>
    <p>USER: admin</p>
    <p>PASSWORD:0wl@dm!n</p>
    <h3>OS Login:</h3>
    <p>USER: oit</p>
    <p>PASSWORD: 0wl@dm!n</p>

    <h2>INSTALLATION PROCEDURE:</h2>
    <ol>
        <li>START THE CLEAN INSTALL OF LUBUNTU</li>
        <li>INSTALL slapd AND ldap-utils</li>
        <ul><li>Confirm LDAP service is started</li></ul>
        <li>RUN THE INITIAL CONFIGURATION</li>
        <ul>
            <li>RUN: sudo dpkg-reconfigure slapd</li>
            <li>SELECT 'NO' FOR 'Omit OpenLDAP server configuration'</li>
            <li>ADD DESIRED DOMAIN NAME - I USED lab.pdx.oit.edu</li>
            <li>ADD DESIRED ORG NAME - I USED OIT METRO</li>
            <li>ADD AN ADMIN PASSWORD - I USED THE SAME PASSWORD AS THE BASE OS</li>
            <li>IF ASKED, SELECT MDB AS THE DATABASE TYPE</li>
            <li>SELECT 'NO' FOR 'Do you want the database to be removed when slapd is purged?'</li>
            <li>IF ASKED, SELECT 'YES' TO 'Move old database?'</li>
            <li>IF ASKED, SELECT 'NO' TO 'Allow LDAPv2 protocol?'</li>
        </ul>
        <li>EDIT CONFIG FILE (/etc/ldap/ldap.conf)</li>
        <ul>
            <li>UNCOMMMENT 'BASE' AND CHANGE THE DC VALUES TO THE APPROPRIATE VALUES</li>
            <ul><li> FOR THE lab.pdx.oit.edu THE VALUE IS dc=lab,dc=pdx,dc=oit,dc=edu</li></ul>
            <li>UNCOMMENT 'URI' AND CHANGE THE VALUES TO THE APPROPRIATE VALUES</li>
            <ul>
                <p>My URI line is as follows:</p>
                <p style="font-family:'Lucida Console', monospace"> URI ldap://ldap.lab.pdx.oit.edu ldap://localhost</p>
            </ul>
            <li>Save changes.</li>
        </ul>
        <li>INSTALL THE phpldapadmin APPLICATION</li>
        <li> EDIT /etc/phpldapadmin/config.php</li>
        <ul>
            <li>CHANGE "servers->setValue('server','base',array('dc=example,dc=com'));" TO "servers->setValue('server','base',array());"</li>
            <ul>
                <p>THIS CONFIG SHOULD BE FOUND ON LINE 300</p>
                <P>THIS WILL ALLOW THE PHP ADMIN INTERFACE TO AUTODETECT THE DOMAIN.</P>
            </ul>
            <li>UNCOMMENT THE LINE "// $servers->setValue('login','anon_bind',true);" AND CHANGE THE "TRUE" STATEMENT TO "FALSE"</li>
            <ul>
                <p>THIS CONFIG SHOULD BE FOUND ON LINE 453</p>
                <p>THIS PREVENTS THE USE OF ANONYMOUS LOGIN</p>
            </ul>
            <li>SAVE AND CLOSE</li>
        </ul>
        <li>LOGIN AND IMPORT THE LDAP SCHEMA</li>
        <ul>
            <li>NAVIGATE TO http://localhost/phpldapadmin AND SIGN IN</li>
            <li>DOWNLOAD THE export.ldif FILE FROM THIS REPOSITORY </li>
            <li>SELECT 'IMPORT' IN THE ADMIN UI</li>
        </ul>
        <li>ADD THE phpldapadmin PAGE AS THE HOMEPAGE FOR THE DEFAULT BROWSER</li>
    </ol>
    <h2>INSTALLED SOFTWARE:</h2>
    <li>slapd</li>
    <li>ldap-utils</li>
    <li>phpldapadmin</li>

    <h2>VERSION</h2>
    <!--This will likely not change unless the vanilla install image has been changed-->
    <p>20.04.2-LTS</p>
    <h2>RELEASE</h2>
    <!--Only change this if updating an existing configuration-->
    <p>1.0</p>
    <h2>DATE CREATED:</h2>
    <p>04/04/2021</p>
    <!--The date that you commit the change to the image and documentation-->
    <!--Use the format MM/DD/YYYY for this field.-->
</article>
</html>